<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2023 FYP Report</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">

    <script>
        function initComparisons() {
            var x, i;
            /*find all elements with an "overlay" class:*/
            x = document.getElementsByClassName("img-comp-overlay");
            for (i = 0; i < x.length; i++) {
                /*once for each "overlay" element:
                pass the "overlay" element as a parameter when executing the compareImages function:*/
                compareImages(x[i]);
            }
            function compareImages(img) {
                var slider, img, clicked = 0, w, h;
                /*get the width and height of the img element*/
                w = img.offsetWidth;
                h = img.offsetHeight;
                /*set the width of the img element to 50%:*/
                img.style.width = (w / 2) + "px";
                /*create slider:*/
                slider = document.createElement("DIV");
                slider.setAttribute("class", "img-comp-slider");
                /*insert slider*/
                img.parentElement.insertBefore(slider, img);
                /*position the slider in the middle:*/
                slider.style.top = (h / 2) - (slider.offsetHeight / 2) + "px";
                slider.style.left = (w / 2) - (slider.offsetWidth / 2) + "px";
                /*execute a function when the mouse button is pressed:*/
                slider.addEventListener("mousedown", slideReady);
                /*and another function when the mouse button is released:*/
                window.addEventListener("mouseup", slideFinish);
                /*or touched (for touch screens:*/
                slider.addEventListener("touchstart", slideReady);
                /*and released (for touch screens:*/
                window.addEventListener("touchend", slideFinish);
                function slideReady(e) {
                    /*prevent any other actions that may occur when moving over the image:*/
                    e.preventDefault();
                    /*the slider is now clicked and ready to move:*/
                    clicked = 1;
                    /*execute a function when the slider is moved:*/
                    window.addEventListener("mousemove", slideMove);
                    window.addEventListener("touchmove", slideMove);
                }
                function slideFinish() {
                    /*the slider is no longer clicked:*/
                    clicked = 0;
                }
                function slideMove(e) {
                    var pos;
                    /*if the slider is no longer clicked, exit this function:*/
                    if (clicked == 0) return false;
                    /*get the cursor's x position:*/
                    pos = getCursorPos(e)
                    /*prevent the slider from being positioned outside the image:*/
                    if (pos < 0) pos = 0;
                    if (pos > w) pos = w;
                    /*execute a function that will resize the overlay image according to the cursor:*/
                    slide(pos);
                }
                function getCursorPos(e) {
                    var a, x = 0;
                    e = (e.changedTouches) ? e.changedTouches[0] : e;
                    /*get the x positions of the image:*/
                    a = img.getBoundingClientRect();
                    /*calculate the cursor's x coordinate, relative to the image:*/
                    x = e.pageX - a.left;
                    /*consider any page scrolling:*/
                    x = x - window.pageXOffset;
                    return x;
                }
                function slide(x) {
                    /*resize the image:*/
                    img.style.width = x + "px";
                    /*position the slider:*/
                    slider.style.left = img.offsetWidth - (slider.offsetWidth / 2) + "px";
                }
            }
        }
    </script>
</head>

<body>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html" id="nor_button">PAH2203 Final Year Project Report: Semantic Understanding in Haze Conditions with Video Data<br>
                    <b style="font-size:medium">Ng Hon Lam 1155143298, CUHK<br>
                    Lam Shi Shing 1155142786, CUHK
                </a>
                
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    
                <ul class="nav navbar-nav">
                    <li class="nav_button"><a href="index.html">Overview</a></li>
                    <li class="nav_button"><a href="dataset.html">Dataset</a></li>
                    <li class="nav_button"><a href="haze.html">Hazing &amp; Dehazing</a></li>
                    <li class="nav_button"><a href="mot.html">MOT &amp; MOTS</a></li>
                    <li class="nav_button"><a href="experiment.html">Experiment &amp; Result</a></li>
                </ul>
            </div>
        </div><!-- /.container-fluid -->
    </nav>

    <!-- Main Content -->


    <div class="container">
        <h1 class="text-center mb-4">Experiment &amp; Result</h1>
        <!-- Navigation Bar -->
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="modified_center">
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    
                    <ul class="nav navbar-nav">
                        <li class="nav_button"><a href="#home">Home</a></li>
                        <li class="nav_button"><a href="#doc_tool">Doc &amp; Tool</a></li>
                        <li class="nav_button"><a href="#challenges">Challenges</a></li>
                        <li class="nav_button"><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
        <div class="row">
            <h2 class="p_title" id="experiment">Experiment</h2>
            <p class="p_text">
                In the experiments, for MOT, UNICORN is used for evaluation, while for MOTS, both pcan and MOTS are used for evaluation. The task are evaluated first using normal dataset, then haze with beta value 0.01, 0.02, 0.06 are added to the dataset and evaluated.
                For the dehazing part, each haze dataset is dehazed using MSBDN, Dehamer, Dehamer indoor and DCP, as proposed in the Hazing&Dehazing section.
            </p>
        </div>
        <div class="row">
            <h2 class="p_title" id="metric">Evaluation Metrics</h2>
            <p class="p_text">
                The following are standard metrics for MOT and MOTS:
                <ul>
                    <li style="font-family:'Times New Roman', Times, serif">MOTA (Multiple Object Segmentation Tracking Accuracy. It measures the errors from false positives, false negatives and identity switches.)</li>
                    <li style="font-family:'Times New Roman', Times, serif">MOTSA (Similar to MOTA, but it measures Segmentation instead using mask IoU instead of box iou)</li>
                    <li style="font-family:'Times New Roman', Times, serif">MOTP ( Multiple Object Tracking Precision. It measures the misalignments between ground-truths and detections.)</li>
                    <li style="font-family:'Times New Roman', Times, serif">MOTSP (Similar to MOTP, but it measures Segmentation instead using mask IoU instead of box iou)</li>
                    <li style="font-family:'Times New Roman', Times, serif">IDF1 (ID F1 score. The ratio of correctly identified detections over the average number of ground-truths and detections.)</li>
                    </ul>
                For MOT, following BDD100K challenge, the following primary evaluation metric are used:
                <ul>
                <li style="font-family:'Times New Roman', Times, serif">mMOTA (mean Multiple Object Tracking Accuracy across all 8 categories.)</li>
                <li style="font-family:'Times New Roman', Times, serif">mMOTP ( mean Multiple Object Tracking Precision across all 8 categories.)</li>
                <li style="font-family:'Times New Roman', Times, serif">mIDF1 (mean ID F1 score across all 8 categories.)</li>
                </ul>
                For MOTS, following BDD100K challenge, the following primary evaluation metric are used:
                <ul>
                <li style="font-family:'Times New Roman', Times, serif">mMOTSA (mean Multiple Object Segmentation Tracking Accuracy across all 8 categories.)</li>
                <li style="font-family:'Times New Roman', Times, serif">mMOTSP ( mean Multiple Object Segmentation Tracking Precision across all 8 categories.)</li>
                <li style="font-family:'Times New Roman', Times, serif">mIDF1 (mean ID F1 score across all 8 categories.)</li>
                </ul>
            </p>
        </div>
        <div class="row">
            <h2 class="p_title" id="result">Result</h2>
            <div class="col-md-6 mb-4">
                <h2 class="p_subtitle">MOTS</h2>
                <p class="p_text">In this section, the MOTS task are performed and evaluated using PCAN and UNICORN.</p>
                <div class="col-md-6 mb-4">
                    <h2 class="p_subtitle">Normal Result</h2>
                    <p class="p_text">
                    The following table shows the evaluation results:
                    </p>
                    <div class="row">
                        <table class="bdd_table">
                            <tr class="bdd_cell">
                              <th class="bdd_cell" >Model</th>
                              <th class="bdd_cell">Dataset</th>
                              <th class="bdd_cell">mMOTSA</th>
                              <th class="bdd_cell">mMOTSP</th>
                              <th class="bdd_cell">mIDF1</th>
                            </tr>
                            <tr class="bdd_cell">
                              <td class="bdd_cell">PCAN</td>
                              <td class="bdd_cell">Normal</td>
                              <td class="bdd_cell">27.8</td>
                              <td class="bdd_cell">66.9</td>
                              <td class="bdd_cell">44.9</td>
                            </tr>
                            <tr class="bdd_cell">
                                <td class="bdd_cell">UNICORN</td>
                                <td class="bdd_cell">Normal</td>
                                <td class="bdd_cell">28.1</td>
                                <td class="bdd_cell">67.2</td>
                                <td class="bdd_cell">44.5</td>
                              </tr>
                          </table>
                    </div>
                    <br>
                    <p class="p_text">
                    UNICORN obtains a better results as expected, since it is a more sophisticated model then the baseline PCAN.
                    </p>
                </div>
                <div class="col-md-6 mb-4">
                    <h2 class="p_subtitle">Hazing Result</h2>
                    <p class="p_text">
                    The following table shows the evaluation results after adding hazing to the dataset. In addition, the dataset 0.01, 0.02, 0.06 indicates it is hazed with the corresponding beta value. The bracket after each metrics indicates the difference between it and the normal result of the respective model.
                    </p>
                    <div class="row">
                        <table class="bdd_table">
                            <tr class="bdd_cell">
                            <th class="bdd_cell" >Model</th>
                            <th class="bdd_cell">Dataset</th>
                            <th class="bdd_cell">mMOTSA</th>
                            <th class="bdd_cell">mMOTSP</th>
                            <th class="bdd_cell">mIDF1</th>
                            </tr>
                            <tr class="bdd_cell">
                            <td class="bdd_cell">PCAN</td>
                            <td class="bdd_cell">0.01</td>
                            <td class="bdd_cell">23.0 <div class="negative">(-4.8)</div></td>
                            <td class="bdd_cell">59.5 <div class="negative">(-7.4)</div></td>
                            <td class="bdd_cell">39.7 <div class="negative">(-5.2)</div></td>
                            </tr>
                            <tr class="bdd_cell">
                                <td class="bdd_cell">PCAN</td>
                                <td class="bdd_cell">0.02</td>
                                <td class="bdd_cell">22.2 <div class="negative">(-5.6)</div></td>
                                <td class="bdd_cell">59.5 <div class="negative">(-7.4)</div></td>
                                <td class="bdd_cell">37.5 <div class="negative">(-7.4)</div></td>
                            </tr>
                            <tr class="bdd_cell">
                                <td class="bdd_cell">PCAN</td>
                                <td class="bdd_cell">0.06</td>
                                <td class="bdd_cell">13.7<div class="negative">&nbsp;(-14.1)</div></td>
                                <td class="bdd_cell">59.1 <div class="negative">(-7.8)</div></td>
                                <td class="bdd_cell">25.7 <div class="negative">&nbsp;(-19.2)</div></td>
                            </tr>
                            <tr class="bdd_cell">
                                <td class="bdd_cell">UNICORN</td>
                                <td class="bdd_cell">0.01</td>
                                <td class="bdd_cell">27.2 <div class="negative">(-0.9)</div></td>
                                <td class="bdd_cell">67.4 <div class="positive">&nbsp;(+0.2)</div></td>
                                <td class="bdd_cell">43.4 <div class="negative">(-1.1)</div></td>
                            </tr>
                            <tr class="bdd_cell">
                                <td class="bdd_cell">UNICORN</td>
                                <td class="bdd_cell">0.02</td>
                                <td class="bdd_cell">25.1 <div class="negative">(-3.0)</div></td>
                                <td class="bdd_cell">67.4 <div class="positive">&nbsp;(+0.2)</div></td>
                                <td class="bdd_cell">43.4 <div class="negative">(-1.1)</div></td>
                            </tr>
                            <tr class="bdd_cell">
                                <td class="bdd_cell">UNICORN</td>
                                <td class="bdd_cell">0.06</td>
                                <td class="bdd_cell">19.8 <div class="negative">(-8.3)</div></td>
                                <td class="bdd_cell">67.0 <div class="negative">(-0.2)</div></td>
                                <td class="bdd_cell">33.6 <div class="negative">&nbsp;(-10.9)</div></td>
                            </tr>
                        </table>
                    </div>
                    <br>
                    <p class="p_text">From above we can see that PCAN and UNICORN peforms worse when there is haze in the datasets. However, the mMOTSP for UNICORN increases in 0.01 and 0.02, which shows the power of the model.<br></p>
                    <div class="col-md-6 mb-4">
                        <h2 class="p_subtitle">Comparision</h2>
                        <p class="p_text">The following figures show the performance comparision of each model under different haze dataset:</p>
                        <div class="row" style="height: 10%;">
                            <table>
                            <tr>
                            <td>
                                <figure>
                                    <img src="resources/PCAN_haze.png" alt="Example" class="two_img_center">
                                    <figcaption class="img_caption">Evaluation Result of PCAN</figcaption>
                                </figure>
                            </td>
                            <td>
                                <figure>
                                    <img src="resources/UNICORN_haze.png" alt="Example" class="two_img_center">
                                    <figcaption class="img_caption">Evaluation Result of UNICORN</figcaption>
                                </figure>
                            </td>
                            </tr>
                            </table>
                        </div>
                    </div>
                    <p class="p_text">We can see that both PCAN and UNICORN has a performance drop when there is haze in the datasets. However, UNICORN seems to be less affected than PCAN, which is proven further with the following figures.</p>
                    <div class="row" style="height: 10%;">
                        <table>
                        <tr>
                        <td>
                            <figure>
                                <img src="resources/PCAN_haze_diff.png" alt="Example" class="two_img_center">
                                <figcaption class="img_caption">Difference of evaluation metrics under normal dataset of PCAN</figcaption>
                            </figure>
                        </td>
                        <td>
                            <figure>
                                <img src="resources/UNICORN_haze_diff.png" alt="Example" class="two_img_center">
                                <figcaption class="img_caption">Difference of evaluation metrics under normal dataset of UNICORN</figcaption>
                            </figure>
                        </td>
                        </tr>
                        </table>
                    </div>
                    <p class="p_text">Therefore, although haze affects both models, UNICORN has a better performance than the baseline PCAN under haze conditions.</p>
                <div class="col-md-6 mb-4">
                    <h2 class="p_subtitle">Dehazing Result</h2>
                </div>
            </div>
        </div>
        </div>
        </div>
    </div>


    <script>
        /*Execute a function that will execute an image compare function for each element with the img-comp-overlay class:*/
        initComparisons();
    </script>



    <!-- jQuery and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>

</html>